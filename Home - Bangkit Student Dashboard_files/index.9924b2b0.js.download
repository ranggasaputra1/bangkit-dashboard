import{h as v,m as i,b as l,e as p,i as c,j as y,T as g}from"./vendor.de398de0.js";import{M as b,B as A,A as I,c as j,_ as w,r as C,i as L,s as m,a as f,b as N}from"./components.584320d4.js";import{a3 as k}from"./firebase.028da22a.js";import"./mixin.047d87f0.js";const B=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}};B();const D=v({components:{Modal:b,Banner:A,AppHeader:I},computed:{user:()=>j.user}}),O={class:"min-h-screen bg-white"},U={key:0};function $(t,n,a,r,e,o){const s=i("modal"),u=i("banner"),h=i("app-header"),_=i("router-view");return l(),p("div",O,[c(s),c(u),t.user?(l(),p("div",U,[c(h)])):y("",!0),c(_)])}var x=w(D,[["render",$]]);let d;k(N,async t=>{d||(d=g(x),d.use(C),d.mount("#app")),t!=null&&L()&&await m.logout("dashboard-closed"),t==null||t.getIdTokenResult().then(n=>{const a=String(n.claims.userId);t&&t.providerData&&t.providerData[0]&&t.providerData[0].email&&m.fetchUser(a).then(r=>{!r||(f.setUserId(r.userId),f.setUserProperties({email:r.email,name:r.name,role:r.role,university:r.university}))})})});
